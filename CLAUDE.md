# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a React + TypeScript + Vite project for Mockingbird Arts, using Panda CSS for styling and the @okshaun/components design system.

## Development Commands

### Start Development Server
```bash
npm run dev
```
Runs Panda CSS codegen in watch mode and starts Vite dev server on port 3000 (auto-opens browser).

### Build for Production
```bash
npm run build
```
Runs Panda CSS codegen, TypeScript type checking, and Vite build. Must pass all three steps.

### Lint Code
```bash
npm run lint
```
Runs ESLint on all TypeScript/TSX files.

### Generate Panda CSS
```bash
npm run panda
```
Manually runs Panda CSS codegen (generates styled-system output). Usually not needed since `dev` and `build` handle this.

### Preview Production Build
```bash
npm run preview
```
Serves the production build locally for testing.

## Architecture

### Styling System: Panda CSS

This project uses **Panda CSS** (not Tailwind or CSS-in-JS) with the **@okshaun/components** preset:

- **Panda config**: `panda.config.ts` defines tokens, theme, and includes the okshaun preset
- **Generated code**: All Panda utilities are generated to `styled-system/` directory
- **JSX style props**: Enabled with `jsxStyleProps: "all"` - components accept style props directly
- **Import map**: Set to `"@okshaun/components"` - import styled-system utilities from components package
- **Prefix**: `"oks"` - all CSS classnames use this prefix
- **Strict mode**: Both `strictTokens` and `strictPropertyValues` are enabled

**Key Panda concepts:**
- Use JSX style props (e.g., `<Box p="4" bg="surface">`) for inline styling
- Import layout components from `@styled-system/jsx` (e.g., `HStack`, `VStack`)
- Custom recipes go in `src/recipes/` (currently just a placeholder)
- Panda codegen must run before TypeScript compilation

### Design System: @okshaun/components

- Custom component library with Button, Box, Text, Icon, ThemeSwitcher, and ThemeProvider
- Provides its own Panda preset (`okshaunPreset`)
- Theme tokens can be extended in `panda.config.ts`

**Custom tokens defined:**
- Fonts: heading/sans (Auto Pro), body/serif (Dolly), mono (Covik Sans Mono)
- Global CSS: smooth scroll, body defaults, heading styles

### Path Aliases

Configured in both `vite.config.ts` and `tsconfig.app.json`:
- `~/` maps to `./src/`
- `@styled-system/` maps to `./styled-system/`

### React Setup

- React 19.2.0 with StrictMode enabled
- Entry point: `src/main.tsx` wraps app in ThemeProvider
- Main component: `src/App.tsx` (currently a demo page)
- React Router 7.9.6 included but not yet configured

### TypeScript Configuration

- Target: ES2022, JSX: react-jsx
- Strict mode enabled with additional lint rules (noUnusedLocals, noUnusedParameters)
- Build info cached to `node_modules/.tmp/`
- Type checking is part of the build process

### ESLint Configuration

Uses flat config format (`eslint.config.js`):
- TypeScript ESLint recommended rules
- React hooks rules (enforced)
- React refresh plugin for Vite HMR
- Ignores `dist/` directory

## Project Structure

```
src/
  ├── main.tsx          # Entry point with ThemeProvider
  ├── App.tsx           # Main component (demo content)
  ├── recipes/          # Custom Panda recipes (placeholder)
  └── index.css         # Global CSS

styled-system/          # Generated by Panda (DO NOT EDIT)
  ├── css/              # CSS utility functions
  ├── jsx/              # Layout JSX components
  ├── patterns/         # Panda patterns
  ├── recipes/          # Recipe utilities
  └── tokens/           # Design tokens

public/                 # Static assets

panda.config.ts         # Panda CSS configuration
vite.config.ts          # Vite build configuration
tsconfig.app.json       # TypeScript config for app code
tsconfig.node.json      # TypeScript config for Node scripts
```

## Important Notes

### Panda CSS Workflow

1. **Always run Panda codegen before building**: The `styled-system/` directory must be generated
2. **Include pattern for components package**: Config includes node_modules paths for @okshaun/components
3. **Never edit styled-system directly**: It's auto-generated - changes go in `panda.config.ts` or `src/recipes/`
4. **Eject mode enabled**: Full control over generated code structure

### Common Pitfalls

- Forgetting to run `panda codegen` after changing tokens/recipes
- Trying to use Tailwind classes instead of Panda style props
- Editing `styled-system/` files directly (they get regenerated)
- Not prefixing classnames with `oks-` when inspecting CSS

### When Adding New Features

1. Use @okshaun/components first (Button, Box, Text, Icon, etc.)
2. For layouts, import from `@styled-system/jsx` (HStack, VStack, etc.)
3. For custom component variants, add recipes to `src/recipes/`
4. For new design tokens, extend `theme.tokens` in `panda.config.ts`
